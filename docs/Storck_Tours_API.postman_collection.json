{
    "info": {
        "name": "Storck Tours API",
        "description": "Complete API collection for Storck Tours travel backend",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:5000/api/v1",
            "type": "string"
        },
        {
            "key": "accessToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "refreshToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "userId",
            "value": "",
            "type": "string"
        },
        {
            "key": "tripId",
            "value": "",
            "type": "string"
        },
        {
            "key": "bookingId",
            "value": "",
            "type": "string"
        },
        {
            "key": "reviewId",
            "value": "",
            "type": "string"
        },
        {
            "key": "favoriteId",
            "value": "",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "1. Health & Metadata",
            "item": [
                {
                    "name": "1.1 Health Check",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/health",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "health"
                            ]
                        },
                        "description": "Check if the API is running and database is connected"
                    }
                },
                {
                    "name": "1.2 Get Currencies",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/metadata/currencies",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "metadata",
                                "currencies"
                            ]
                        }
                    }
                },
                {
                    "name": "1.3 Get Destinations",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/metadata/destinations",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "metadata",
                                "destinations"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "2. Authentication",
            "item": [
                {
                    "name": "2.1 Register User",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.success && jsonData.data) {",
                                    "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                                    "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Test User\",\n    \"email\": \"testuser@example.com\",\n    \"password\": \"Password123\",\n    \"phone\": \"+1234567890\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "Register a new user account"
                    }
                },
                {
                    "name": "2.2 Register Admin (with Secret)",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.success && jsonData.data) {",
                                    "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                                    "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Admin User\",\n    \"email\": \"admin@storcktours.com\",\n    \"password\": \"Admin123!\",\n    \"role\": \"ADMIN\",\n    \"adminSecret\": \"storck-admin-secret-2024\",\n    \"phone\": \"+1234567890\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register-admin",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register-admin"
                            ]
                        },
                        "description": "Register as Admin using the admin secret key. Default secret: storck-admin-secret-2024"
                    }
                },
                {
                    "name": "2.3 Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.success && jsonData.data) {",
                                    "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                                    "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"admin@storcktours.com\",\n    \"password\": \"Admin123!\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        }
                    }
                },
                {
                    "name": "2.4 Refresh Token",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.success && jsonData.data) {",
                                    "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"refreshToken\": \"{{refreshToken}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/refresh",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "refresh"
                            ]
                        }
                    }
                },
                {
                    "name": "2.5 Forgot Password",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"testuser@example.com\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/forgot-password",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "forgot-password"
                            ]
                        }
                    }
                },
                {
                    "name": "2.6 Reset Password",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"token\": \"RESET_TOKEN_HERE\",\n    \"newPassword\": \"NewPassword123!\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/reset-password",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "reset-password"
                            ]
                        }
                    }
                },
                {
                    "name": "2.7 Logout",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/auth/logout",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "logout"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "3. User Profile",
            "item": [
                {
                    "name": "3.1 Get My Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/users/me",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "me"
                            ]
                        }
                    }
                },
                {
                    "name": "3.2 Update My Profile",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Updated Name\",\n    \"phone\": \"+9876543210\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/me",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "me"
                            ]
                        }
                    }
                },
                {
                    "name": "3.3 Change Password",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"currentPassword\": \"Password123\",\n    \"newPassword\": \"NewPassword123!\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/me/password",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "me",
                                "password"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "4. Trips (Admin)",
            "item": [
                {
                    "name": "4.1 Create Trip",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.success && jsonData.data) {",
                                    "    pm.collectionVariables.set('tripId', jsonData.data.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"title\": \"Egyptian Pyramids Adventure\",\n    \"description\": \"Experience the wonders of ancient Egypt with our exclusive 7-day tour of the pyramids, temples, and the Nile.\",\n    \"itinerary\": \"Day 1: Arrival in Cairo\\nDay 2: Pyramids of Giza\\nDay 3: Egyptian Museum\\nDay 4: Luxor Temple\\nDay 5: Valley of the Kings\\nDay 6: Nile Cruise\\nDay 7: Departure\",\n    \"price\": 1299.99,\n    \"currency\": \"USD\",\n    \"durationDays\": 7,\n    \"startDate\": \"2025-03-01T00:00:00Z\",\n    \"endDate\": \"2025-03-07T00:00:00Z\",\n    \"destinations\": [\"Cairo\", \"Luxor\", \"Aswan\"],\n    \"tags\": [\"adventure\", \"history\", \"culture\"],\n    \"totalSeats\": 20\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/trips",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips"
                            ]
                        }
                    }
                },
                {
                    "name": "4.2 Publish Trip",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}/publish",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}",
                                "publish"
                            ]
                        }
                    }
                },
                {
                    "name": "4.3 Update Trip",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"price\": 1499.99,\n    \"description\": \"Updated description with more details about this amazing tour.\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "4.4 Add Trip Image",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"url\": \"https://example.com/images/pyramids.jpg\",\n    \"altText\": \"Great Pyramids of Giza\",\n    \"order\": 0\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}/images",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}",
                                "images"
                            ]
                        }
                    }
                },
                {
                    "name": "4.5 Unpublish Trip",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}/unpublish",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}",
                                "unpublish"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "5. Trips (Public)",
            "item": [
                {
                    "name": "5.1 List All Trips",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/trips?page=1&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "5.2 Search Trips",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/search?q=egypt&priceMin=500&priceMax=2000",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "search"
                            ],
                            "query": [
                                {
                                    "key": "q",
                                    "value": "egypt"
                                },
                                {
                                    "key": "priceMin",
                                    "value": "500"
                                },
                                {
                                    "key": "priceMax",
                                    "value": "2000"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "5.3 Get Trip by ID",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "5.4 Get Trip Availability",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}/availability",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}",
                                "availability"
                            ]
                        }
                    }
                },
                {
                    "name": "5.5 Get Trip Itinerary",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}/itinerary",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}",
                                "itinerary"
                            ]
                        }
                    }
                },
                {
                    "name": "5.6 Get Trip Images",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}/images",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}",
                                "images"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "6. Bookings",
            "item": [
                {
                    "name": "6.1 Create Booking",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.success && jsonData.data) {",
                                    "    pm.collectionVariables.set('bookingId', jsonData.data.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"passengers\": [\n        {\n            \"name\": \"John Doe\",\n            \"email\": \"john@example.com\",\n            \"phone\": \"+1234567890\"\n        },\n        {\n            \"name\": \"Jane Doe\",\n            \"email\": \"jane@example.com\",\n            \"phone\": \"+1234567891\"\n        }\n    ],\n    \"bookingDate\": \"2025-03-01T00:00:00Z\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}/bookings",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}",
                                "bookings"
                            ]
                        }
                    }
                },
                {
                    "name": "6.2 Get My Bookings",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/bookings",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "bookings"
                            ]
                        }
                    }
                },
                {
                    "name": "6.3 Get Booking Details",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/bookings/{{bookingId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "bookings",
                                "{{bookingId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "6.4 Update Booking",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"passengers\": [\n        {\n            \"name\": \"John Smith\",\n            \"email\": \"johnsmith@example.com\",\n            \"phone\": \"+1234567890\"\n        }\n    ]\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/bookings/{{bookingId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "bookings",
                                "{{bookingId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "6.5 Confirm Booking (Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/bookings/{{bookingId}}/confirm",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "bookings",
                                "{{bookingId}}",
                                "confirm"
                            ]
                        }
                    }
                },
                {
                    "name": "6.6 Cancel Booking",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"reason\": \"Change of plans\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/bookings/{{bookingId}}/cancel",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "bookings",
                                "{{bookingId}}",
                                "cancel"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "7. Reviews",
            "item": [
                {
                    "name": "7.1 Create Review",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.success && jsonData.data) {",
                                    "    pm.collectionVariables.set('reviewId', jsonData.data.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"rating\": 5,\n    \"title\": \"Amazing Experience!\",\n    \"comment\": \"This was the best trip I've ever taken. The guides were professional and the itinerary was perfectly planned. Highly recommend!\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}/reviews",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}",
                                "reviews"
                            ]
                        }
                    }
                },
                {
                    "name": "7.2 Get Trip Reviews",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/trips/{{tripId}}/reviews",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "trips",
                                "{{tripId}}",
                                "reviews"
                            ]
                        }
                    }
                },
                {
                    "name": "7.3 Get Review by ID",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/reviews/{{reviewId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "reviews",
                                "{{reviewId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "7.4 Update Review",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"rating\": 4,\n    \"comment\": \"Updated review - Great trip overall with minor room for improvement.\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/reviews/{{reviewId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "reviews",
                                "{{reviewId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "7.5 Flag Review",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/reviews/{{reviewId}}/flag",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "reviews",
                                "{{reviewId}}",
                                "flag"
                            ]
                        }
                    }
                },
                {
                    "name": "7.6 Delete Review",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/reviews/{{reviewId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "reviews",
                                "{{reviewId}}"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "8. Favorites",
            "item": [
                {
                    "name": "8.1 Add to Favorites",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var jsonData = pm.response.json();",
                                    "if (jsonData.success && jsonData.data) {",
                                    "    pm.collectionVariables.set('favoriteId', jsonData.data.id);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"tripId\": \"{{tripId}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/favorites",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "favorites"
                            ]
                        }
                    }
                },
                {
                    "name": "8.2 Get My Favorites",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/favorites",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "favorites"
                            ]
                        }
                    }
                },
                {
                    "name": "8.3 Remove from Favorites (by ID)",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/favorites/{{favoriteId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "favorites",
                                "{{favoriteId}}"
                            ]
                        }
                    }
                },
                {
                    "name": "8.4 Remove from Favorites (by Trip)",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/favorites/trip/{{tripId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "favorites",
                                "trip",
                                "{{tripId}}"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "9. Admin",
            "item": [
                {
                    "name": "9.1 Dashboard Stats",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/admin/dashboard/stats",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "dashboard",
                                "stats"
                            ]
                        }
                    }
                },
                {
                    "name": "9.2 List All Users",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/admin/users?page=1&limit=20",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "users"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "9.2.1 Create User (Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"New Admin User\",\n    \"email\": \"newadmin@storcktours.com\",\n    \"password\": \"NewAdmin123!\",\n    \"role\": \"ADMIN\",\n    \"phone\": \"+1234567890\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/admin/users",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "users"
                            ]
                        },
                        "description": "Create a new user with any role (USER, ADMIN, SUPPORT). Must be logged in as admin."
                    }
                },
                {
                    "name": "9.3 List All Trips (Admin)",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/admin/trips",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "trips"
                            ]
                        }
                    }
                },
                {
                    "name": "9.4 List All Bookings (Admin)",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/admin/bookings",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "bookings"
                            ]
                        }
                    }
                },
                {
                    "name": "9.5 List All Reviews (Admin)",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/admin/reviews?status=FLAGGED",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "reviews"
                            ],
                            "query": [
                                {
                                    "key": "status",
                                    "value": "FLAGGED"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "9.6 Moderate Review",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"status\": \"HIDDEN\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/admin/reviews/{{reviewId}}/moderate",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "reviews",
                                "{{reviewId}}",
                                "moderate"
                            ]
                        }
                    }
                },
                {
                    "name": "9.7 Get Audit Logs",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/admin/audit-logs?page=1&limit=50",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "audit-logs"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "50"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "9.8 Override Trip Availability",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"seatsAvailable\": 25\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/admin/trips/{{tripId}}/override-availability",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "trips",
                                "{{tripId}}",
                                "override-availability"
                            ]
                        }
                    }
                },
                {
                    "name": "9.9 Trigger Reindex",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/admin/maintenance/reindex",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "maintenance",
                                "reindex"
                            ]
                        }
                    }
                }
            ]
        }
    ]
}